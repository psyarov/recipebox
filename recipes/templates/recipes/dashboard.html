{#{% extends "base.html" %}#}
{#{% block title %}My Recipes · RecipeBox{% endblock %}#}
{#{% block content %}#}
{#  <div class="d-flex justify-content-between align-items-center mb-3">#}
{#    <h2 class="mb-0">My Recipes</h2>#}
{#    <a class="btn btn-primary" href="{% url 'recipe_create' %}">Create recipe</a>#}
{#  </div>#}
{##}
{#  {% if recipes %}#}
{#    <div class="list-group">#}
{#      {% for r in recipes %}#}
{#        <div class="list-group-item">#}
{#          <div class="d-flex w-100 justify-content-between">#}
{#            <h5 class="mb-1"><a href="{{ r.get_absolute_url }}">{{ r.title }}</a></h5>#}
{#            <small class="text-muted">{{ r.created_at|date:"Y-m-d H:i" }}</small>#}
{#          </div>#}
{#          <p class="mb-1 small text-muted">#}
{#            {% if r.category %}{{ r.category.name }} · {% endif %}#}
{#            {{ r.prep_time_minutes }} min#}
{#          </p>#}
{#          <div>#}
{#            <a class="btn btn-sm btn-outline-primary" href="{% url 'recipe_edit' slug=r.slug %}">Edit</a>#}
{#            <a class="btn btn-sm btn-outline-danger" href="{% url 'recipe_delete' slug=r.slug %}">Delete</a>#}
{#          </div>#}
{#        </div>#}
{#      {% endfor %}#}
{#    </div>#}
{##}
{#    {% if is_paginated %}#}
{#      <nav class="mt-3">#}
{#        <ul class="pagination">#}
{#          {% if page_obj.has_previous %}#}
{#            <li class="page-item"><a class="page-link" href="?page={{ page_obj.previous_page_number }}">Previous</a></li>#}
{#          {% else %}<li class="page-item disabled"><span class="page-link">Previous</span></li>{% endif %}#}
{#          <li class="page-item active"><span class="page-link">{{ page_obj.number }} / {{ page_obj.paginator.num_pages }}</span></li>#}
{#          {% if page_obj.has_next %}#}
{#            <li class="page-item"><a class="page-link" href="?page={{ page_obj.next_page_number }}">Next</a></li>#}
{#          {% else %}<li class="page-item disabled"><span class="page-link">Next</span></li>{% endif %}#}
{#        </ul>#}
{#      </nav>#}
{#    {% endif %}#}
{#  {% else %}#}
{#    <div class="alert alert-info">You haven’t added any recipes yet.</div>#}
{#  {% endif %}#}
{#{% endblock %}#}

{% extends "base.html" %}
{% block title %}Dashboard · RecipeBox{% endblock %}

{% block content %}
  <h2 class="mb-4">Your Dashboard</h2>

  <section class="mb-5">
    <h4>Your Recipes</h4>
    {% if recipes %}
      <ul class="list-group mb-3">
        {% for r in recipes %}
          <li class="list-group-item d-flex justify-content-between align-items-center">
            <a href="{% url 'recipe_detail' slug=r.slug %}">{{ r.title }}</a>
            <div>
              <a href="{% url 'recipe_edit' slug=r.slug %}" class="btn btn-sm btn-outline-primary">Edit</a>
              <a href="{% url 'recipe_delete' slug=r.slug %}" class="btn btn-sm btn-outline-danger">Delete</a>
            </div>
          </li>
        {% endfor %}
      </ul>
    {% else %}
      <p class="text-muted">You haven’t created any recipes yet.</p>
    {% endif %}
    <a href="{% url 'recipe_create' %}" class="btn btn-success">+ Add New Recipe</a>
  </section>

  <section>
    <h4>Your Comments</h4>
    {% if comments %}
      <ul class="list-group">
        {% for c in comments %}
          <li class="list-group-item">
            On <a href="{% url 'recipe_detail' slug=c.recipe.slug %}">{{ c.recipe.title }}</a>:
            {{ c.text|truncatewords:15 }}
            <div>
              <small class="text-muted">{{ c.created_at|date:"Y-m-d H:i" }}</small>
              <a href="{% url 'comment_delete' pk=c.pk %}" class="btn btn-sm btn-outline-danger ms-2">Delete</a>
            </div>
          </li>
        {% endfor %}
      </ul>
    {% else %}
      <p class="text-muted">You haven’t posted any comments yet.</p>
    {% endif %}
  </section>
{% endblock %}
